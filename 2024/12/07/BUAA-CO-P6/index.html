<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>BUAA_CO_P6 | Chères étoile</title><meta name="author" content="étoile"><meta name="copyright" content="étoile"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="P6支持30指令的五级全速流水线指令分析29条指令  计算类指令：add sub and or slt sltu lui addi andi ori nop 访存类指令：lb lh lw sb sh sw 乘除类指令：mult multu div divu mfhi mflo mthi mtlo  分支类指令：beq bne 跳转类指令： jal jr  数据冒险需要回写的有16条指令：add s">
<meta property="og:type" content="article">
<meta property="og:title" content="BUAA_CO_P6">
<meta property="og:url" content="http://example.com/2024/12/07/BUAA-CO-P6/index.html">
<meta property="og:site_name" content="Chères étoile">
<meta property="og:description" content="P6支持30指令的五级全速流水线指令分析29条指令  计算类指令：add sub and or slt sltu lui addi andi ori nop 访存类指令：lb lh lw sb sh sw 乘除类指令：mult multu div divu mfhi mflo mthi mtlo  分支类指令：beq bne 跳转类指令： jal jr  数据冒险需要回写的有16条指令：add s">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/CO_P6.jpg">
<meta property="article:published_time" content="2024-12-07T13:38:19.000Z">
<meta property="article:modified_time" content="2024-12-07T13:45:12.796Z">
<meta property="article:author" content="étoile">
<meta property="article:tag" content="计算机组成">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/CO_P6.jpg"><link rel="shortcut icon" href="/img/tag.png"><link rel="canonical" href="http://example.com/2024/12/07/BUAA-CO-P6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'BUAA_CO_P6',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-12-07 21:45:12'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/mycss.css"><link rel="stylesheet" href="/css/transpancy.css"><meta name="generator" content="Hexo 7.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head_img.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/CO_P6.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="Chères étoile"><span class="site-name">Chères étoile</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">BUAA_CO_P6</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-07T13:38:19.000Z" title="发表于 2024-12-07 21:38:19">2024-12-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-07T13:45:12.796Z" title="更新于 2024-12-07 21:45:12">2024-12-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/BUAA/">BUAA</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="BUAA_CO_P6"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="P6支持30指令的五级全速流水线"><a href="#P6支持30指令的五级全速流水线" class="headerlink" title="P6支持30指令的五级全速流水线"></a><code>P6</code>支持30指令的五级全速流水线</h1><h2 id="指令分析"><a href="#指令分析" class="headerlink" title="指令分析"></a>指令分析</h2><p>29条指令</p>
<ul>
<li>计算类指令：<code>add</code> <code>sub</code> <code>and</code> <code>or</code> <code>slt</code> <code>sltu</code> <code>lui</code> <code>addi</code> <code>andi</code> <code>ori</code> <code>nop</code></li>
<li>访存类指令：<code>lb</code> <code>lh</code> <code>lw</code> <code>sb</code> <code>sh</code> <code>sw</code></li>
<li>乘除类指令：<code>mult</code> <code>multu</code> <code>div</code> <code>divu</code> <code>mfhi</code> <code>mflo</code> <code>mthi</code> <code>mtlo</code> </li>
<li>分支类指令：<code>beq</code> <code>bne</code></li>
<li>跳转类指令： <code>jal</code> <code>jr</code></li>
</ul>
<h2 id="数据冒险"><a href="#数据冒险" class="headerlink" title="数据冒险"></a>数据冒险</h2><p>需要回写的有16条指令：<code>add</code> <code>sub</code> <code>and</code> <code>or</code> <code>slt</code> <code>sltu</code> <code>lui</code> <code>addi</code> <code>andi</code> <code>ori</code> <code>lb</code> <code>lh</code> <code>lw</code> <code>mfhi</code> <code>mflo</code> <code>jal</code></p>
<h3 id="转发"><a href="#转发" class="headerlink" title="转发"></a>转发</h3><h3 id="阻塞"><a href="#阻塞" class="headerlink" title="阻塞"></a>阻塞</h3><p><code>Tuse</code> : 在D级用数据为0，E级为1，M级为2，用不到数据为max（在编写时，max = 3）</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>add</code></th>
<th><code>sub</code></th>
<th><code>and</code></th>
<th><code>or</code></th>
<th><code>slt</code></th>
<th><code>sltu</code></th>
<th><code>lui</code></th>
<th><code>addi</code></th>
<th><code>andi</code></th>
<th><code>ori</code></th>
<th><code>nop</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tuse_RS</code></td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>max</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>max</td>
</tr>
<tr>
<td><code>Tuse_RT</code></td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>max</td>
<td>max</td>
<td>max</td>
<td>max</td>
<td>max</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>lb</code></th>
<th><code>lh</code></th>
<th><code>lw</code></th>
<th><code>sb</code></th>
<th><code>sh</code></th>
<th><code>sw</code></th>
<th><code>beq</code></th>
<th><code>bne</code></th>
<th><code>jal</code></th>
<th><code>jr</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tuse_RS</code></td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>max</td>
<td>0</td>
</tr>
<tr>
<td><code>Tuse_RT</code></td>
<td>max</td>
<td>max</td>
<td>max</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>0</td>
<td>0</td>
<td>max</td>
<td>max</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>mult</code></th>
<th><code>multu</code></th>
<th><code>div</code></th>
<th><code>divu</code></th>
<th><code>mfhi</code></th>
<th><code>mflo</code></th>
<th><code>mthi</code></th>
<th><code>mtlo</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tuse_RS</code></td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>max</td>
<td>max</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td><code>Tuse_RT</code></td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>max</td>
<td>max</td>
<td>max</td>
<td>max</td>
</tr>
</tbody>
</table>
</div>
<p><code>Tnew</code>：在D级产生数据并存入<code>DEreg</code>为1，E级为2，M级为3，不产生数据为min（在编写时，min = 0）</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>add</code></th>
<th><code>sub</code></th>
<th><code>and</code></th>
<th><code>or</code></th>
<th><code>slt</code></th>
<th><code>sltu</code></th>
<th><code>lui</code></th>
<th><code>addi</code></th>
<th><code>andi</code></th>
<th><code>ori</code></th>
<th><code>nop</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tnew</code></td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>2</td>
<td>2</td>
<td>min</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>lb</code></th>
<th><code>lh</code></th>
<th><code>lw</code></th>
<th><code>sb</code></th>
<th><code>sh</code></th>
<th><code>sw</code></th>
<th><code>beq</code></th>
<th><code>bne</code></th>
<th><code>jal</code></th>
<th><code>jr</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tnew</code></td>
<td>3</td>
<td>3</td>
<td>3</td>
<td>min</td>
<td>min</td>
<td>min</td>
<td>min</td>
<td>min</td>
<td>1</td>
<td>min</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><code>mult</code></th>
<th><code>multu</code></th>
<th><code>div</code></th>
<th><code>divu</code></th>
<th><code>mfhi</code></th>
<th><code>mflo</code></th>
<th><code>mthi</code></th>
<th><code>mtlo</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Tnew</code></td>
<td>min</td>
<td>min</td>
<td>min</td>
<td>min</td>
<td>2</td>
<td>2</td>
<td>min</td>
<td>min</td>
</tr>
</tbody>
</table>
</div>
<h2 id="乘除法实现"><a href="#乘除法实现" class="headerlink" title="乘除法实现"></a>乘除法实现</h2><p>我们首先回顾一下乘除法的实现过程：</p>
<p>对于乘法指令来说，当<code>mult</code>指令进入D级时，<code>Start</code>信号置1，维持一个周期。</p>
<p>这个信号会跟随该乘法指令传到E级进入乘除模块。</p>
<p>一个周期以后，<code>start</code>指令置0，同时<code>busy</code>指令置1，并维持五个周期。</p>
<p>五个周期以后，<code>busy</code>指令置0，结果写入<code>hi</code>和<code>lo</code>寄存器。</p>
<p>除法只需要将上述“维持五个周期”改为“维持十个周期”即可。</p>
<p>需要指出的是，当<code>busy</code>信号或者<code>start</code>信号为1的时候，后续与乘除相关的8条指令都会被阻塞在D流水级。</p>
<h2 id="Stall信号为1时会发生什么"><a href="#Stall信号为1时会发生什么" class="headerlink" title="Stall信号为1时会发生什么"></a>Stall信号为1时会发生什么</h2><p>D级中的指令不变，同时清空<code>DEreg(E流水级)</code>，给D级下游形成一种D级的指令是空抛的效果。</p>
<h2 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a>思考题</h2><p>1、为什么需要有单独的乘除法部件而不是整合进 ALU？为何需要有独立的 HI、LO 寄存器？</p>
<p>因为乘除需要多个周期，分开设计更简洁，降低模块内部复杂度，也降低了功能之间的耦合度。由于乘除法的结果需要被存下来，所以需要<code>hi</code>和<code>lo</code>寄存器。</p>
<p>2、真实的流水线 CPU 是如何使用实现乘除法的？请查阅相关资料进行简单说明。</p>
<p>乘法（移位相加法）：CPU 将被乘数和乘数表示为二进制数，然后从最低位开始，将被乘数的每一位与乘数进行相与运算，并将结果向左移位相应的位数，最后将所有移位后的结果相加，得到最终的乘积。</p>
<p>除法（移位相减法）：CPU 将被除数和除数表示为二进制数，然后从被除数的最高位开始，将被除数与除数进行比较。如果被除数大于等于除数，则将被除数减去除数，并将结果向左移位一位，同时商的相应位设置为1；如果被除数小于除数，则将被除数向左移位一位，同时商的相应位设置为0。重复这个过程，直到被除数小于除数为止，此时得到的商就是最终的结果。</p>
<p>3、请结合自己的实现分析，你是如何处理 Busy 信号带来的周期阻塞的？</p>
<p>将<code>busy</code>传至位于D级的阻塞处理单元<code>Hazard</code>。当<code>busy</code>信号为1时代表正在处理乘除指令。若D级此时又出现一条新的乘除法指令，则必须阻塞。</p>
<p>4、请问采用字节使能信号的方式处理写指令有什么好处？</p>
<p>更加规范清晰。</p>
<p>5、请思考，我们在按字节读和按字节写时，实际从<code>DM</code>获得的数据和向<code>DM</code>写入的数据是否是一字节？在什么情况下我们按字节读和按字节写的效率会高于按字读和按字写呢？</p>
<ul>
<li>对于按字节写入（<code>sb</code>）：</li>
</ul>
<p>由于我们需要将<code>GRF[rt]</code>的低8位写入内存，所以我们只需将它的低8位重复4次构成<code>m_data_wdata</code>。再通过设置<code>m_data_byteen</code>（写使能）来控制具体写入地址的哪8位。</p>
<ul>
<li><p>按半字写入（<code>sh</code>）和按字写入(<code>sw</code>)是同样的道理。</p>
</li>
<li><p>对于按字节读出（<code>lb</code>）：</p>
<p>我们将CPU外部存储器返回给我们的<code>m_data_rdata</code>传入<code>LEXT</code>模块，这个模块是专门用来处理读出来的原始数据的。</p>
<p>我们取<code>m_data_rdata</code>中的对应8位（由<code>op</code>决定），并对它做符号拓展，作为最终结果<code>WD</code>。</p>
</li>
<li><p>按半字读出（<code>lh</code>）和按字读出（<code>lw</code>）是同样的道理。</p>
<p>所以实际从<code>DM</code>获得的数据和向<code>DM</code>写入的数据不是一字节。</p>
</li>
</ul>
<p>6、为了对抗复杂性你采取了哪些抽象和规范手段？这些手段在译码和处理数据冲突的时候有什么样的特点与帮助？</p>
<p>建立了编码和标签的映射关系，例如：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">wire</span> ori  = (opcode_DEin == <span class="number">6&#x27;b001101</span>) ? <span class="number">1</span> : <span class="number">0</span>;</span><br></pre></td></tr></table></figure>
<p>这样做更具有可读性。</p>
<p>7、在本实验中你遇到了哪些不同指令类型组合产生的冲突？你又是如何解决的？相应的测试样例是什么样的？</p>
<p><code>mflo</code> <code>mfhi</code>等指令和其他需要使用相应的操作数的指令的冲突。通过给<code>mfhi</code> <code>mflo</code>设置对应的<code>Tnew</code>统一解决。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">étoile</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2024/12/07/BUAA-CO-P6/">http://example.com/2024/12/07/BUAA-CO-P6/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">Chères étoile</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90/">计算机组成</a></div><div class="post_share"><div class="social-share" data-image="/img/CO_P6.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2024/11/25/BUAA-CO-P5%E5%A2%9E%E6%B7%BB%E6%8C%87%E4%BB%A4%E5%88%86%E6%9E%90/" title="BUAA_CO_P5增添指令分析"><img class="cover" src="/img/CO_P5_special.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">BUAA_CO_P5增添指令分析</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/09/29/BUAA-CO-P0/" title="BUAA-CO-P0"><img class="cover" src="/img/CO_P0.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-09-29</div><div class="title">BUAA-CO-P0</div></div></a></div><div><a href="/2024/10/10/BUAA-CO-P1/" title="BUAA-CO-P1"><img class="cover" src="/img/CO_P1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-10</div><div class="title">BUAA-CO-P1</div></div></a></div><div><a href="/2024/10/21/BUAA-CO-P2/" title="BUAA_CO_P2"><img class="cover" src="/img/CO_P2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-21</div><div class="title">BUAA_CO_P2</div></div></a></div><div><a href="/2024/10/23/BUAA-CO-P3/" title="BUAA_CO_P3"><img class="cover" src="/img/CO_P3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-23</div><div class="title">BUAA_CO_P3</div></div></a></div><div><a href="/2024/10/31/BUAA-CO-P4/" title="BUAA_CO_P4"><img class="cover" src="/img/CO_P4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-10-31</div><div class="title">BUAA_CO_P4</div></div></a></div><div><a href="/2024/11/21/BUAA-CO-P5/" title="BUAA_CO_P5"><img class="cover" src="/img/CO_P5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-11-21</div><div class="title">BUAA_CO_P5</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head_img.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">étoile</div><div class="author-info__description">人生海海 山山而川</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">15</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">Hellooo, welcome to étoile's Blog !</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#P6%E6%94%AF%E6%8C%8130%E6%8C%87%E4%BB%A4%E7%9A%84%E4%BA%94%E7%BA%A7%E5%85%A8%E9%80%9F%E6%B5%81%E6%B0%B4%E7%BA%BF"><span class="toc-number">1.</span> <span class="toc-text">P6支持30指令的五级全速流水线</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8C%87%E4%BB%A4%E5%88%86%E6%9E%90"><span class="toc-number">1.1.</span> <span class="toc-text">指令分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%86%92%E9%99%A9"><span class="toc-number">1.2.</span> <span class="toc-text">数据冒险</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E5%8F%91"><span class="toc-number">1.2.1.</span> <span class="toc-text">转发</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%BB%E5%A1%9E"><span class="toc-number">1.2.2.</span> <span class="toc-text">阻塞</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%98%E9%99%A4%E6%B3%95%E5%AE%9E%E7%8E%B0"><span class="toc-number">1.3.</span> <span class="toc-text">乘除法实现</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stall%E4%BF%A1%E5%8F%B7%E4%B8%BA1%E6%97%B6%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88"><span class="toc-number">1.4.</span> <span class="toc-text">Stall信号为1时会发生什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="toc-number">1.5.</span> <span class="toc-text">思考题</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/12/07/BUAA-CO-P6/" title="BUAA_CO_P6"><img src="/img/CO_P6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUAA_CO_P6"/></a><div class="content"><a class="title" href="/2024/12/07/BUAA-CO-P6/" title="BUAA_CO_P6">BUAA_CO_P6</a><time datetime="2024-12-07T13:38:19.000Z" title="发表于 2024-12-07 21:38:19">2024-12-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/25/BUAA-CO-P5%E5%A2%9E%E6%B7%BB%E6%8C%87%E4%BB%A4%E5%88%86%E6%9E%90/" title="BUAA_CO_P5增添指令分析"><img src="/img/CO_P5_special.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUAA_CO_P5增添指令分析"/></a><div class="content"><a class="title" href="/2024/11/25/BUAA-CO-P5%E5%A2%9E%E6%B7%BB%E6%8C%87%E4%BB%A4%E5%88%86%E6%9E%90/" title="BUAA_CO_P5增添指令分析">BUAA_CO_P5增添指令分析</a><time datetime="2024-11-25T09:16:21.000Z" title="发表于 2024-11-25 17:16:21">2024-11-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/11/21/BUAA-CO-P5/" title="BUAA_CO_P5"><img src="/img/CO_P5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUAA_CO_P5"/></a><div class="content"><a class="title" href="/2024/11/21/BUAA-CO-P5/" title="BUAA_CO_P5">BUAA_CO_P5</a><time datetime="2024-11-21T08:39:45.000Z" title="发表于 2024-11-21 16:39:45">2024-11-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/31/BUAA-CO-P4/" title="BUAA_CO_P4"><img src="/img/CO_P4.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUAA_CO_P4"/></a><div class="content"><a class="title" href="/2024/10/31/BUAA-CO-P4/" title="BUAA_CO_P4">BUAA_CO_P4</a><time datetime="2024-10-31T07:08:07.000Z" title="发表于 2024-10-31 15:08:07">2024-10-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/23/BUAA-OOpre-5/" title="BUAA_OOpre_5"><img src="/img/OOpre_5.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="BUAA_OOpre_5"/></a><div class="content"><a class="title" href="/2024/10/23/BUAA-OOpre-5/" title="BUAA_OOpre_5">BUAA_OOpre_5</a><time datetime="2024-10-23T15:11:08.000Z" title="发表于 2024-10-23 23:11:08">2024-10-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By étoile</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>